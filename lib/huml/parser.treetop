grammar Huml

  rule top
    space doctype space block {
      def tokenize
        [:multi, doctype.tokenize] unless doctype.empty?
      end
    }
  end

  rule block
    .*
  end

  rule doctype
    "doctype " [ \t]* typestring:([a-zA-Z1-9]*) {
      def tokenize
        [:html, :doctype, typestring.text_value]
      end
    }
  end

  rule space
    [\s]* {
      def tokenize
        [:newline] if text_value =~ /[\r\n]/
      end
    }
  end

end
